"use strict";angular.module("guitarwebApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/frets.html",controller:"FretsCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/frets",{templateUrl:"views/frets.html",controller:"FretsCtrl"}).when("/scales",{templateUrl:"views/scales.html",controller:"ScalesCtrl"}).when("/main",{templateUrl:"views/main.html",controler:"MainCtrl"}).otherwise({redirectTo:"/frets.html"})}]),angular.module("guitarwebApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.navList=[{name:"Scales",url:"scale"},{name:"Guitar Notes",url:"gnotes"},{name:"Harmonic Visualizer",url:"frets"}]}]),angular.module("guitarwebApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("guitarwebApp").controller("FretsCtrl",["$scope","$routeParams","$http","frettin","$parse","$interpolate",function(a,b,c,d,e,f){a.fretVar=[],c.get("db/jsons/scales.json").success(function(b){a.fretVar=b}),a.fretRatios=[{name:"Half ",type:1,color:"blue",fract:"1\\2"},{name:"Third ",type:2,color:"black",fract:"1\\3rd"},{name:"Quarter ",type:3,color:"purple",fract:"1\\4th"},{name:"Fifth ",type:4,color:"green",fract:"1\\5th"}]}]),angular.module("guitarwebApp").service("frettin",["$resource",function(a){return a("db/jsons/scales.json",{},{query:{method:"GET",params:{storeId:"guitar"},isArray:!0}})}]),angular.module("guitarwebApp").directive("fretMove",function(){return{replace:!0,templateUrl:"templates/fretMove.html",restrict:"EA",link:function(a,b,c){$("#bottomInnerContentMain").children().hide(),$("#fretSelection").fadeIn("fast"),$("#bottomTools").click(function(){$("#bottomInnerContentNav").children().removeClass("highLighter"),$(this).addClass("highLighter"),$("#bottomInnerContentMain").children().hide(),$("#fretSelection").fadeIn("slow")}),$("#bottomText").click(function(){$("#bottomInnerContentNav").children().removeClass("highLighter"),$(this).addClass("highLighter"),$("#bottomInnerContentMain").children().hide(),$("#explainText").fadeIn("slow").children.hide(),$("#explainTextHow").fadeIn("fast")}),$("#explainTextTool").click(function(){$("#explainTextContent").children().hide(),$("#explainTextHow").fadeIn("slow"),$("#explainTextNav").children().removeClass("highLighter"),$(this).addClass("highLighter")}),$("#explainTextTheorys").click(function(){$("#explainTextContent").children().hide(),$("#explainTextTheory").fadeIn("slow"),$("#explainTextNav").children().removeClass("highLighter"),$(this).addClass("highLighter")})}}}),angular.module("guitarwebApp").directive("fretsScaling",function(){return{template:"<div>Whats up</div>",restrict:"EA",link:function(a,b,c){}}}),angular.module("guitarwebApp").controller("GraphctrlCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("guitarwebApp").directive("guitarNeck",["$interpolate",function(a){return{replace:!0,templateUrl:"templates/guitarNeck.html",restrict:"EA",link:function(a,b,c,d){a.selectIndex=0,a.fretPercent=function(c){a.selectIndex=c+"%",b.css("width",a.selectIndex)},a.selectDiv=0,a.fretsDiv=function(c){b.removeClass(),a.selectDiv=c,b.addClass("activeRate"+a.selectDiv),console.log(a.selectDiv)},a.fretReset=function(){b.removeClass()}}}}]),angular.module("guitarwebApp").directive("fretRatioselector",function(){return{templateUrl:"templates/fretRatioSelector.html",restrict:"E",link:function(a,b,c){var d=document.getElementById("fretNum");$(d).click(function(){this.addClass("highLighter").fadeIn()})}}}),angular.module("guitarwebApp").directive("fretSelection",function(){return{replace:!0,templateUrl:"templates/fretSelection.html",restrict:"E",link:function(a,b,c){$("#fretNum").click(function(){$(this).removeClass("highLighter"),$(this).addClass("highLighter")})}}}),angular.module("guitarwebApp").controller("ScalesCtrl",["$scope","$rootScope",function(a,b){a.musicNotes=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],a.musicScale=a.musicNotes,a.majorScale=[0,2,4,5,7,9,11],a.scale=[];jQuery(".frets").children().children("ng-binding");a.scales=function(b){for(var c=0;c<a.majorScale.length;c++)a.scale.push(b[a.majorScale[c]]);console.log(a.scale)},a.notesFun=function(b){var b=this,c=a.musicNotes[b];return console.log(b.content),console.log(c),c},a.notesFun(8),a.scales(a.musicScale)}]),angular.module("guitarwebApp").directive("fretMoves",function(){return{templateUrl:"templates/fretMoveSmall.html",replace:!0,restrict:"EA",link:function(a,b,c){}}}),angular.module("guitarwebApp").directive("guitarNecks",function(){return{templateUrl:"templates/guitarNeckMobile.html",restrict:"EA",replace:!0,link:function(a,b,c){a.selectIndex=0,a.fretMobilePercent=function(c){a.selectIndex=c+"%",b.css("height",a.selectIndex),console.log(a.selectIndex)}}}}),angular.module("guitarwebApp").directive("explainText",function(){return{templateUrl:"templates/explainText.html",replace:!0,restrict:"EA",link:function(a,b,c){}}}),angular.module("guitarwebApp").directive("fretBoard",function(){return{templateUrl:"templates/fretBoard.html",replace:!0,restrict:"E",link:function(a,b,c){a.musicNotes=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],a.stringE=7,a.stringB=2,a.stringG=10,a.stringD=5,a.stringA=0,a.stringEe=7,a.currentNote0=a.musicNotes[a.stringE],a.currentNote1=a.musicNotes[a.stringB],a.currentNote2=a.musicNotes[a.stringG],a.currentNote3=a.musicNotes[a.stringD],a.currentNote4=a.musicNotes[a.stringA],a.majorScale=[0,2,4,5,7,9,11],a.minorScale=[0,2,3,5,7,8,10],a.pickedScale=[],a.shownNotes=[],a.currentScale=[],a.emptyScale=[],a.nameScale,a.allScales=[{name:"Major/Ionian",scale:[0,2,4,5,7,9,11]},{name:"Minor/Aeolian",scale:[0,2,3,5,7,8,10]},{name:"Dorian",scale:[0,2,3,5,7,9,10]},{name:"Phyrgian",scale:[0,1,3,5,7,8,10]},{name:"Lydian",scale:[0,2,4,6,7,9,11]},{name:"Myxolodian",scale:[0,2,4,5,7,9,10]},{name:"Locrian ",scale:[0,1,3,5,6,8,10]}],a.toneValue=3,a.pickin=function(b){var c=b.scale,d=b.name;return console.log(c),a.nameScale=d,a.pickedScale=c,console.log(a.pickedScale),a.pickedScale,a.nameScale},a.toneSelect=function(b){var c=b;return console.log(c),a.toneValue=c,a.toneValue},a.chooseScale=function(b,c){for(var d=[],e=[],f=0;f<a.musicNotes.length;f++)if(f==c){e.push(f);for(var g=1;g<=a.musicNotes.length-1;g++)e.push((f+g)%12)}for(var h=0;h<=b.length-1;h++)d.push(e[b[h]]);console.log(e),console.log(d),a.currentScale=d,console.log("This is current scale "+a.currentScale),console.log("The notes are "+a.shownNotes)},a.changedScale=function(b){for(var c=0;c<b.length-1;c++)a.shownNotes.push(a.musicNotes[a.currentScale[c]]);console.log(a.shownNotes)},a.noteChangeE=function(){var b=this;a.stringE=this.$index,console.log(b)},a.noteChangeB=function(){var b=this;return a.stringB=this.$index,console.log(b),console.log(a.stringe),a.stringe},a.noteChangeG=function(){var b=this;return a.stringG=this.$index,console.log(b),console.log(a.stringe),a.stringe},a.noteChangeD=function(){var b=this;return a.stringD=this.$index,console.log(b),console.log(a.stringe),a.stringe},a.noteChangeA=function(){var b=this;return a.stringA=this.$index,console.log(b),console.log(a.stringe),a.stringe},a.noteChangeEe=function(){var b=this;return a.stringEe=this.$index,console.log(b),console.log(a.stringe),a.stringe},a.standardTune=function(){a.stringE=7,a.stringB=2,a.stringG=10,a.stringD=5,a.stringA=0,a.stringEE=7},a.fullStep=function(){a.stringE=5,a.stringB=0,a.stringG=8,a.stringD=3,a.stringA=10,a.stringEe=5},a.openD=function(){a.stringE=5,a.stringB=0,a.stringG=9,a.stringD=5,a.stringA=0,a.stringEe=5},a.$watchGroup(["stringE","stringB","stringG","stringD","stringA","stringEe"],function(b,c){return a.stringE=b[0],a.stringB=b[1],a.stringG=b[2],a.stringD=b[3],a.stringA=b[4],a.stringEe=b[5],console.log(b,c),console.log(a.musicNotes[b],a.musicNotes[c]),a.stringE})}}}),angular.module("guitarwebApp").directive("gString",function(){return{scope:{root:"=root",scale:"=scale"},templateUrl:"templates/guitarString.html",restrict:"E",link:function(a,b,c){a.musicNotes=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],console.log(a.root),a.rootValue=a.root,a.note0=a.musicNotes[a.rootValue],a.note1=a.musicNotes[(a.rootValue+1)%12],a.note2=a.musicNotes[(a.rootValue+2)%12],a.note3=a.musicNotes[(a.rootValue+3)%12],a.note4=a.musicNotes[(a.rootValue+4)%12],a.note5=a.musicNotes[(a.rootValue+5)%12],a.note6=a.musicNotes[(a.rootValue+6)%12],a.note7=a.musicNotes[(a.rootValue+7)%12],a.note8=a.musicNotes[(a.rootValue+8)%12],a.note9=a.musicNotes[(a.rootValue+9)%12],a.note10=a.musicNotes[(a.rootValue+10)%12],a.note11=a.musicNotes[(a.rootValue+11)%12],a.notes=[a.note0,a.note1,a.note2,a.note3,a.note4,a.note5,a.note6,a.note7,a.note8,a.note9,a.note10,a.note11],console.log(a.notes),console.log(a.scale),a.$watch("root",function(b,c){return a.root=b,a.rootValue=a.root,a.note0=a.musicNotes[a.rootValue],a.note1=a.musicNotes[(a.rootValue+1)%12],a.note2=a.musicNotes[(a.rootValue+2)%12],a.note3=a.musicNotes[(a.rootValue+3)%12],a.note4=a.musicNotes[(a.rootValue+4)%12],a.note5=a.musicNotes[(a.rootValue+5)%12],a.note6=a.musicNotes[(a.rootValue+6)%12],a.note7=a.musicNotes[(a.rootValue+7)%12],a.note8=a.musicNotes[(a.rootValue+8)%12],a.note9=a.musicNotes[(a.rootValue+9)%12],a.note10=a.musicNotes[(a.rootValue+10)%12],a.note11=a.musicNotes[(a.rootValue+11)%12],console.log(a.musicNotes[b],a.musicNotes[c]),a.root})}}}),angular.module("guitarwebApp").directive("stringSelection",function(){return{scope:{stringe:"=stringe",stringb:"=stringb",stringg:"=stringg",stringd:"=stringd",stringa:"=stringa",stringee:"=stringee"},templateUrl:"templates/stringSel.html",restrict:"E",link:function(a,b,c){a.musicNotes=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],a.stringTtl=6,a.currentNote0=a.musicNotes[a.stringe],a.currentNote1=a.musicNotes[a.stringb],a.currentNote2=a.musicNotes[a.stringg],a.currentNote3=a.musicNotes[a.stringd],a.currentNote4=a.musicNotes[a.stringa],a.currentNote5=a.musicNotes[a.stringee],a.changeNote=function(){var b=this.$index;return changeNote0=a.musicNotes[b],changeNote0},a.$watch("changeNote0",function(b,c){a.changeNote0=b,console.log(newval,c)})}}});